<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Regular expressions | R for Building Energy Simulation</title>
<meta name="author" content="Adrian Chong">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Building Energy Simulation</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li class="book-part">R Basics</li>
<li><a class="" href="r-basics.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">2</span> Basics</a></li>
<li><a class="" href="dates-and-times.html"><span class="header-section-number">3</span> Dates and Times</a></li>
<li><a class="" href="importing-data.html"><span class="header-section-number">4</span> Importing Data</a></li>
<li><a class="active" href="regular-expressions.html"><span class="header-section-number">5</span> Regular expressions</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="" href="manipulate.html"><span class="header-section-number">7</span> Manipulating Data</a></li>
<li class="book-part">Get Started</li>
<li><a class="" href="get-started.html"><span class="header-section-number">8</span> Introduction</a></li>
<li><a class="" href="parse.html"><span class="header-section-number">9</span> Parse then simulate</a></li>
<li><a class="" href="summary.html"><span class="header-section-number">10</span> Summary reports</a></li>
<li><a class="" href="visualize.html"><span class="header-section-number">11</span> Visualize</a></li>
<li class="book-part">Inputs and Outputs</li>
<li><a class="" href="input-output.html"><span class="header-section-number">12</span> Introduction</a></li>
<li><a class="" href="input.html"><span class="header-section-number">13</span> Model Input Structure</a></li>
<li><a class="" href="modify.html"><span class="header-section-number">14</span> Modify model inputs</a></li>
<li><a class="" href="output.html"><span class="header-section-number">15</span> Detailed output</a></li>
<li><a class="" href="explore.html"><span class="header-section-number">16</span> Model Exploration</a></li>
<li class="book-part">Program</li>
<li><a class="" href="program.html"><span class="header-section-number">17</span> Introduction</a></li>
<li><a class="" href="energy-efficient-measures.html"><span class="header-section-number">18</span> Energy Efficient Measures</a></li>
<li><a class="" href="parametric-simulations.html"><span class="header-section-number">19</span> Parametric simulations</a></li>
<li class="book-part">Advanced</li>
<li><a class="" href="advanced.html"><span class="header-section-number">20</span> Introduction</a></li>
<li><a class="" href="sensitivity-analysis.html"><span class="header-section-number">21</span> Sensitivity analysis</a></li>
<li><a class="" href="optimization.html"><span class="header-section-number">22</span> Optimization</a></li>
<li><a class="" href="calibration.html"><span class="header-section-number">23</span> Calibration</a></li>
<li class="book-part">Reproduce</li>
<li><a class="" href="reproduce.html"><span class="header-section-number">24</span> Introduction</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">25</span> R Markdown</a></li>
<li><a class="" href="containers.html"><span class="header-section-number">26</span> Containers</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="regular-expressions" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Regular expressions<a class="anchor" aria-label="anchor" href="#regular-expressions"><i class="fas fa-link"></i></a>
</h1>
<p><em>Regular expressions</em> are patterns that are used to match combinations of characters in a string. Before we begin, just a cautionary note that if your regular expressions are becoming too complex, perhaps it is time to step back and think about whether it is necessary and if they can be represented multiple expressions that are easier to understand.</p>
<div id="prerequisites-4" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites-4"><i class="fas fa-link"></i></a>
</h2>
<p>The functions <code>str_view()</code> and <code>str_view_all()</code> from the <strong>stringr</strong> package (part of tidyverse) will be used to learn regular expressions interactively. <code>str_view()</code> shows the first match while <code>str_view_all()</code> shows all the matches.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="basic-matches" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Basic matches<a class="anchor" aria-label="anchor" href="#basic-matches"><i class="fas fa-link"></i></a>
</h2>
<p>The most basic form of matching is to match exact strings</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"abc ABC\n123. !?\\(){}"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">## abc ABC</span>
<span class="co">## 123. !?\(){}</span>

<span class="fu">str_view</span><span class="op">(</span><span class="va">x</span>, <span class="st">"abc"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-2d0b4f48c179e4a21dce" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-2d0b4f48c179e4a21dce">{"x":{"html":"<ul>\n  <li><span class='match'>abc<\/span> ABC\n123. !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(x, "123")
<div id="htmlwidget-26f42b45577870c9d0b9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-26f42b45577870c9d0b9">{"x":{"html":"<ul>\n  <li>abc ABC\n<span class='match'>123<\/span>. !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="character-classes" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Character classes<a class="anchor" aria-label="anchor" href="#character-classes"><i class="fas fa-link"></i></a>
</h2>
<p>Character classes allows you to specify a list of characters for matching.</p>
<p>A bracket <code>[...]</code> can be used to specify a list of character. Therefore, it will match any characters that was specified within the brackets. If a caret <code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code> is added to the start of the list of characters, it will match any characters that are NOT in the list. You can also specify a range expression using a hyphen <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> between two characters.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view_all</span><span class="op">(</span><span class="va">x</span>, <span class="st">"[bcde]"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-12b4a040a41586bdb9ed" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-12b4a040a41586bdb9ed">{"x":{"html":"<ul>\n  <li>a<span class='match'>b<\/span><span class='match'>c<\/span> ABC\n123. !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(x, "[^bcde]")
<div id="htmlwidget-810245d6af627111f2cd" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-810245d6af627111f2cd">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span>bc<span class='match'> <\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>\n<\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>.<\/span><span class='match'> <\/span><span class='match'>!<\/span><span class='match'>?<\/span><span class='match'>\\<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>{<\/span><span class='match'>}<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(x, "[a-zA-Z]")
<div id="htmlwidget-c637e9dc87288f311807" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-c637e9dc87288f311807">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span> <span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span>\n123. !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>You can also specify character classes using pre-defined names of these classes with a bracket expression.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">Regex</th>
<th align="left">What it matches</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">[:alnum:]</td>
<td align="left">letters and numbers</td>
</tr>
<tr class="even">
<td align="center">[:alpha:]</td>
<td align="left">letters</td>
</tr>
<tr class="odd">
<td align="center">[:upper:]</td>
<td align="left">uppercase letters</td>
</tr>
<tr class="even">
<td align="center">[:lower:]</td>
<td align="left">lowercase letters</td>
</tr>
<tr class="odd">
<td align="center">[:digit:]</td>
<td align="left">numbers</td>
</tr>
<tr class="even">
<td align="center">[:punct:]</td>
<td align="left">punctuations</td>
</tr>
<tr class="odd">
<td align="center">[:space:]</td>
<td align="left">space characters</td>
</tr>
</tbody>
</table></div>
<p>Try out the other named classes using the function <code>str_view_all()</code></p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view_all</span><span class="op">(</span><span class="va">x</span>, <span class="st">"[:alnum:]"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-3a6fcbdfb320ca3e038a" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-3a6fcbdfb320ca3e038a">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span> <span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span>\n<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>. !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(x, "[:punct:]")
<div id="htmlwidget-b1da6a5da468e7d82785" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b1da6a5da468e7d82785">{"x":{"html":"<ul>\n  <li>abc ABC\n123<span class='match'>.<\/span> <span class='match'>!<\/span><span class='match'>?<\/span><span class='match'>\\<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>{<\/span><span class='match'>}<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>There are also special metacharacters you can use to match entire classes of characters.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">Regex</th>
<th align="left">What it matches</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><code>.</code></td>
<td align="left">any character except newline <code>"\n"</code>
</td>
</tr>
<tr class="even">
<td align="center"><code>\d</code></td>
<td align="left">digit</td>
</tr>
<tr class="odd">
<td align="center"><code>\D</code></td>
<td align="left">non-digit</td>
</tr>
<tr class="even">
<td align="center"><code>\s</code></td>
<td align="left">whitespace</td>
</tr>
<tr class="odd">
<td align="center"><code>\S</code></td>
<td align="left">non-whitespace</td>
</tr>
<tr class="even">
<td align="center"><code>\t</code></td>
<td align="left">tab</td>
</tr>
<tr class="odd">
<td align="center"><code>\n</code></td>
<td align="left">newline</td>
</tr>
<tr class="even">
<td align="center"><code>\w</code></td>
<td align="left">“word” i.e., letters (a-z and A-Z), digits (0-9) or (_)</td>
</tr>
<tr class="odd">
<td align="center"><code>\W</code></td>
<td align="left">non-“word”</td>
</tr>
</tbody>
</table></div>
<p>Note that to include a <code>\</code> in a regular expression, you need to escape it using <code>\\</code>. This is explained in the next subsection on escaping .</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view_all</span><span class="op">(</span><span class="va">x</span>, <span class="st">"."</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-f7a0d49a6f995bb71482" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-f7a0d49a6f995bb71482">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'> <\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span>\n<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>.<\/span><span class='match'> <\/span><span class='match'>!<\/span><span class='match'>?<\/span><span class='match'>\\<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>{<\/span><span class='match'>}<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_view_all(x, "\\d")
<div id="htmlwidget-ab621e724b978ed79a8b" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ab621e724b978ed79a8b">{"x":{"html":"<ul>\n  <li>abc ABC\n<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>. !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_view_all(x, "\\D")
<div id="htmlwidget-7611b431ba15810e4fa5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7611b431ba15810e4fa5">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'> <\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>\n<\/span>123<span class='match'>.<\/span><span class='match'> <\/span><span class='match'>!<\/span><span class='match'>?<\/span><span class='match'>\\<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>{<\/span><span class='match'>}<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="regex-escape" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Escaping<a class="anchor" aria-label="anchor" href="#regex-escape"><i class="fas fa-link"></i></a>
</h2>
<p>In regular expressions, the backslash <code>\</code> is used as an <em>escape</em> character and is used to “escape” any special characters that comes after the backslash. However, in R, the same backslashes <code>\</code> are also used as an <em>escape</em> character in strings. For example, the string <code>"abc ABC 123.\n!?\\(){}"</code> is used to represent the characters <code>abc ABC 123.\n!?\(){}</code>. You will see that there is any additional backslash <code>\</code> in the string representation. This is because <code>\</code> is a special character for strings in R. Therefore, to represent a backslash <code>\</code> in a string, another backslash needs to be added to escape the special representation of a <code>\</code> in strings. This means that to create a string containing "", you need to write <code>"\\"</code>.</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"abc ABC\n123. !?\\(){}"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/writeLines.html">writeLines</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">## abc ABC</span>
<span class="co">## 123. !?\(){}</span></code></pre></div>
<p>Therefore, to create any regular expressions that contains a backslash, you would need to use a string that contains another backslash <code>\</code> to escape the backslash <code>\</code> that forms a part of the regular expression.</p>
<p>For example, how would you create a regular expression to match the character <code>"."</code> if it is defined to match any character except newline. You would need to escape it with <code>\.</code>. However, the backslash is a special character in a string. Therefore you need the string <code>"\\."</code> to represent the regular expression <code>\.</code>. The same logic is applied when representing metacharacters such as <code>\d</code>, <code>\D</code>, <code>\w</code>, <code>\W</code>, etc. You need to use “\” to represent <code>\</code> in regular expressions.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view_all</span><span class="op">(</span><span class="va">x</span>, <span class="st">"."</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-7fd3a37b958d114ae1be" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7fd3a37b958d114ae1be">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'> <\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span>\n<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>.<\/span><span class='match'> <\/span><span class='match'>!<\/span><span class='match'>?<\/span><span class='match'>\\<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>{<\/span><span class='match'>}<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(x, "\\.")
<div id="htmlwidget-bedf1dda06f0a66e1acc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-bedf1dda06f0a66e1acc">{"x":{"html":"<ul>\n  <li>abc ABC\n123<span class='match'>.<\/span> !?\\(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>To represent a backslash <code>\</code> as a regular expression, two levels of escape would be required!</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view</span><span class="op">(</span><span class="va">x</span>, <span class="st">"\\\\"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-0568a65e62ac662c2412" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0568a65e62ac662c2412">{"x":{"html":"<ul>\n  <li>abc ABC\n123. !?<span class='match'>\\<\/span>(){}<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="anchors" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Anchors<a class="anchor" aria-label="anchor" href="#anchors"><i class="fas fa-link"></i></a>
</h2>
<p>Regular expressions will match any part of a string unless you use anchors to specify positions such as the start or end of the string. Instead of characters, anchors are used to specify position.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">Regex</th>
<th align="left">Position</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code></td>
<td align="left">start of string</td>
</tr>
<tr class="even">
<td align="center"><code><a href="https://rdrr.io/r/base/Extract.html">$</a></code></td>
<td align="left">end of string</td>
</tr>
<tr class="odd">
<td align="center"><code>\b</code></td>
<td align="left">word boundaries</td>
</tr>
<tr class="even">
<td align="center"><code>\B</code></td>
<td align="left">non-word boundaries</td>
</tr>
</tbody>
</table></div>
<p>You can use <code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code> to match the start of a string and <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> to match the end of a string. For a complete match, you could anchor a regular expression with <code>^...$</code>.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view_all</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"apple pie"</span>, <span class="st">"juicy apple"</span><span class="op">)</span>, <span class="st">"apple"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-7125c6062409f7ba6521" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7125c6062409f7ba6521">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span><\/li>\n  <li><span class='match'>apple<\/span> pie<\/li>\n  <li>juicy <span class='match'>apple<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(c("apple", "apple pie", "juicy apple"), "^apple")
<div id="htmlwidget-574f2b574b3cf57865e3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-574f2b574b3cf57865e3">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span><\/li>\n  <li><span class='match'>apple<\/span> pie<\/li>\n  <li>juicy apple<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(c("apple", "apple pie", "juicy apple"), "apple$")
<div id="htmlwidget-71633c2565a270bcf6dc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-71633c2565a270bcf6dc">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span><\/li>\n  <li>apple pie<\/li>\n  <li>juicy <span class='match'>apple<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view_all(c("apple", "apple pie", "juicy apple"), "^apple$")
<div id="htmlwidget-c07e998bb21b73592ca1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-c07e998bb21b73592ca1">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span><\/li>\n  <li>apple pie<\/li>\n  <li>juicy apple<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p><code>\b</code> is used to match a position known as word boundary. You can use <code>\b</code> to match the start or end of a word. You can think of <code>\B</code> as the inverse of <code>\b</code> and basically it matches any position that <code>\b</code> does not.</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view_all</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"pineapple"</span>, <span class="st">"juicy apple"</span><span class="op">)</span>, <span class="st">"\\bapple\\b"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-649c2331b95d290ac273" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-649c2331b95d290ac273">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span><\/li>\n  <li>pineapple<\/li>\n  <li>juicy <span class='match'>apple<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_view_all(c("apple", "pineapple", "juicy apple"), "apple\\b")
<div id="htmlwidget-0380ac66aabc7781483e" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0380ac66aabc7781483e">{"x":{"html":"<ul>\n  <li><span class='match'>apple<\/span><\/li>\n  <li>pine<span class='match'>apple<\/span><\/li>\n  <li>juicy <span class='match'>apple<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_view_all(c("apple", "pineapple", "juicy apple"), "\\Bapple\\B")
<div id="htmlwidget-4f55b1e4ed03d1e08c93" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4f55b1e4ed03d1e08c93">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li>pineapple<\/li>\n  <li>juicy apple<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>

str_view_all(c("apple", "pineapple", "juicy apple"), "\\Bapple")
<div id="htmlwidget-16599b4b03626140ab76" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-16599b4b03626140ab76">{"x":{"html":"<ul>\n  <li>apple<\/li>\n  <li>pine<span class='match'>apple<\/span><\/li>\n  <li>juicy apple<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="quantifies" class="section level2" number="5.6">
<h2>
<span class="header-section-number">5.6</span> Quantifies<a class="anchor" aria-label="anchor" href="#quantifies"><i class="fas fa-link"></i></a>
</h2>
<p>You can use quantifiers to specify the number of times a pattern matches.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="center">Regex</th>
<th align="left">Number of times</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code></td>
<td align="left">one or more</td>
</tr>
<tr class="even">
<td align="center"><code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code></td>
<td align="left">zero or more</td>
</tr>
<tr class="odd">
<td align="center"><code><a href="https://rdrr.io/r/utils/Question.html">?</a></code></td>
<td align="left">zero or one</td>
</tr>
<tr class="even">
<td align="center"><code>{m}</code></td>
<td align="left">exactly <code>m</code>
</td>
</tr>
<tr class="odd">
<td align="center"><code>{m,}</code></td>
<td align="left">at least <code>m</code> (<code>m</code> or more)</td>
</tr>
<tr class="even">
<td align="center"><code>{m,n}</code></td>
<td align="left">between <code>m</code> and <code>n</code> (both inclusive)</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"abb"</span>, <span class="st">"abbb"</span><span class="op">)</span>, <span class="st">"ab+"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-682f26b459c6eb4c5c46" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-682f26b459c6eb4c5c46">{"x":{"html":"<ul>\n  <li>a<\/li>\n  <li><span class='match'>abb<\/span><\/li>\n  <li><span class='match'>abbb<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("a", "abb", "abbb"), "ab*")
<div id="htmlwidget-ba0a8b210fda61585a3c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba0a8b210fda61585a3c">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><\/li>\n  <li><span class='match'>abb<\/span><\/li>\n  <li><span class='match'>abbb<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("a", "abb", "abbb"), "ab?")
<div id="htmlwidget-b40aab2bfb2531492a12" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b40aab2bfb2531492a12">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><\/li>\n  <li><span class='match'>ab<\/span>b<\/li>\n  <li><span class='match'>ab<\/span>bb<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("a", "abb", "abbb"), "ab{1}")
<div id="htmlwidget-38c77f20e76437a68ea8" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-38c77f20e76437a68ea8">{"x":{"html":"<ul>\n  <li>a<\/li>\n  <li><span class='match'>ab<\/span>b<\/li>\n  <li><span class='match'>ab<\/span>bb<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("a", "abb", "abbb"), "ab{1,}")
<div id="htmlwidget-a62bdade4cf218396698" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-a62bdade4cf218396698">{"x":{"html":"<ul>\n  <li>a<\/li>\n  <li><span class='match'>abb<\/span><\/li>\n  <li><span class='match'>abbb<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("a", "abb", "abbb"), "ab{1,2}")
<div id="htmlwidget-8b3a1150b807fd4f9c6a" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8b3a1150b807fd4f9c6a">{"x":{"html":"<ul>\n  <li>a<\/li>\n  <li><span class='match'>abb<\/span><\/li>\n  <li><span class='match'>abb<\/span>b<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>By default, quantifies are applied to a single character. You can use <code>(...)</code> to apply quantifies to more than one character.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">str_view</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ab"</span>, <span class="st">"abab"</span>, <span class="st">"ababab"</span><span class="op">)</span>, <span class="st">"ab+"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-5260fc2f16f4d84056b7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5260fc2f16f4d84056b7">{"x":{"html":"<ul>\n  <li><span class='match'>ab<\/span><\/li>\n  <li><span class='match'>ab<\/span>ab<\/li>\n  <li><span class='match'>ab<\/span>abab<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
str_view(c("ab", "abab", "ababab"), "(ab)+")
<div id="htmlwidget-66ee7cc6635647e04870" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-66ee7cc6635647e04870">{"x":{"html":"<ul>\n  <li><span class='match'>ab<\/span><\/li>\n  <li><span class='match'>abab<\/span><\/li>\n  <li><span class='match'>ababab<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><!--## Applications TODO

Combining what you have learned about regular expressions with data transformation skills picked up in the previous chapter can bring about many useful applications. 


If your regular expression is 

For example, the format of the outputs from building energy simulation models are often not in a tidy format -->
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="importing-data.html"><span class="header-section-number">4</span> Importing Data</a></div>
<div class="next"><a href="functions.html"><span class="header-section-number">6</span> Functions</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#regular-expressions"><span class="header-section-number">5</span> Regular expressions</a></li>
<li><a class="nav-link" href="#prerequisites-4"><span class="header-section-number">5.1</span> Prerequisites</a></li>
<li><a class="nav-link" href="#basic-matches"><span class="header-section-number">5.2</span> Basic matches</a></li>
<li><a class="nav-link" href="#character-classes"><span class="header-section-number">5.3</span> Character classes</a></li>
<li><a class="nav-link" href="#regex-escape"><span class="header-section-number">5.4</span> Escaping</a></li>
<li><a class="nav-link" href="#anchors"><span class="header-section-number">5.5</span> Anchors</a></li>
<li><a class="nav-link" href="#quantifies"><span class="header-section-number">5.6</span> Quantifies</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Building Energy Simulation</strong>" was written by Adrian Chong. It was last built on 2021-08-21.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
