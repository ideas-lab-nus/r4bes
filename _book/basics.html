<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Basics | R for Building Energy Simulation</title>
<meta name="author" content="Adrian Chong">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Building Energy Simulation</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li class="book-part">R Basics</li>
<li><a class="" href="r-basics.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="active" href="basics.html"><span class="header-section-number">2</span> Basics</a></li>
<li><a class="" href="datetime.html"><span class="header-section-number">3</span> Dates and Times</a></li>
<li><a class="" href="importing-data.html"><span class="header-section-number">4</span> Importing Data</a></li>
<li><a class="" href="regex.html"><span class="header-section-number">5</span> Regular expressions</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="" href="manipulate.html"><span class="header-section-number">7</span> Manipulating Data</a></li>
<li class="book-part">Get Started</li>
<li><a class="" href="get-started.html"><span class="header-section-number">8</span> Introduction</a></li>
<li><a class="" href="parse.html"><span class="header-section-number">9</span> Parse then simulate</a></li>
<li><a class="" href="summary.html"><span class="header-section-number">10</span> Summary reports</a></li>
<li><a class="" href="visualize.html"><span class="header-section-number">11</span> Visualize</a></li>
<li class="book-part">Inputs and Outputs</li>
<li><a class="" href="input-output.html"><span class="header-section-number">12</span> Introduction</a></li>
<li><a class="" href="input.html"><span class="header-section-number">13</span> Model Input Structure</a></li>
<li><a class="" href="modify.html"><span class="header-section-number">14</span> Modify model inputs</a></li>
<li><a class="" href="output.html"><span class="header-section-number">15</span> Detailed output</a></li>
<li><a class="" href="explore.html"><span class="header-section-number">16</span> Model Exploration</a></li>
<li class="book-part">Program</li>
<li><a class="" href="program.html"><span class="header-section-number">17</span> Introduction</a></li>
<li><a class="" href="energy-efficient-measures.html"><span class="header-section-number">18</span> Energy Efficient Measures</a></li>
<li><a class="" href="parametric-simulations.html"><span class="header-section-number">19</span> Parametric simulations</a></li>
<li class="book-part">Advanced</li>
<li><a class="" href="advanced.html"><span class="header-section-number">20</span> Introduction</a></li>
<li><a class="" href="sensitivity-analysis.html"><span class="header-section-number">21</span> Sensitivity analysis</a></li>
<li><a class="" href="optimization.html"><span class="header-section-number">22</span> Optimization</a></li>
<li><a class="" href="calibration.html"><span class="header-section-number">23</span> Calibration</a></li>
<li class="book-part">Reproduce</li>
<li><a class="" href="reproduce.html"><span class="header-section-number">24</span> Introduction</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">25</span> R Markdown</a></li>
<li><a class="" href="containers.html"><span class="header-section-number">26</span> Containers</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="basics" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Basics<a class="anchor" aria-label="anchor" href="#basics"><i class="fas fa-link"></i></a>
</h1>
<div id="prerequisites-1" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites-1"><i class="fas fa-link"></i></a>
</h2>
<p>We introduce the basics in R programming in this chapter. We will review the basic operators and data types in this chapter. We also provide an introduction to the basic R data structures (including tibbles and data tables).</p>
<p>Most of this chapter involves working with R basic operators and data types, which do not require any extra packages. We will also introduce the <strong>tibble</strong> package, which forms part of the tidyverse package in section <a href="basics.html#tibbles">2.5</a>, and the <strong>data.table</strong> package in section <a href="basics.html#data-table">2.6</a></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com">data.table</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="basic-operators" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Basic operators<a class="anchor" aria-label="anchor" href="#basic-operators"><i class="fas fa-link"></i></a>
</h2>
<p>Basic arithmetic operators (<code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code>, <code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code>, `%’) would work like your calculator</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">3</span> <span class="op">+</span> <span class="fl">2</span> <span class="co"># addition</span>
<span class="co">## [1] 5</span>
<span class="fl">3</span> <span class="op">-</span> <span class="fl">2</span> <span class="co"># subtraction</span>
<span class="co">## [1] 1</span>
<span class="fl">3</span> <span class="op">*</span> <span class="fl">2</span> <span class="co"># multiplication</span>
<span class="co">## [1] 6</span>
<span class="fl">3</span> <span class="op">/</span> <span class="fl">2</span> <span class="co"># division</span>
<span class="co">## [1] 1.5</span>
<span class="fl">3</span><span class="op">^</span><span class="fl">2</span> <span class="co"># exponent</span>
<span class="co">## [1] 9</span>
<span class="fl">3</span> <span class="op">%/%</span> <span class="fl">2</span> <span class="co"># integer division</span>
<span class="co">## [1] 1</span>
<span class="fl">3</span> <span class="op">%%</span> <span class="fl">2</span> <span class="co"># mod (remainder of a division)</span>
<span class="co">## [1] 1</span></code></pre></div>
<p>R uses the <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> operator for assignments. You can read the following code as assigning the outcome of <code>2 + 3</code>, <code>5</code>, and <code>3</code> to the object <code>value_a</code>,<code>value_b</code>, and <code>value_c</code> respectively, which stores it for later use.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">value_a</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span>
<span class="va">value_b</span> <span class="op">&lt;-</span> <span class="fl">5</span>
<span class="va">value_c</span> <span class="op">&lt;-</span> <span class="fl">3</span></code></pre></div>
<p>You can <code>print</code> what is stored in the object to console with</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">value_a</span><span class="op">)</span>
<span class="co">## [1] 5</span></code></pre></div>
<p>You can use relational operators to compare how one object relates to another.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">==</span> <span class="fl">5</span> <span class="co"># TRUE that 2 + 3 equals 5</span>
<span class="co">## [1] TRUE</span>
<span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">!=</span> <span class="fl">5</span> <span class="co"># FALSE that 2 + 3 not equals to 5</span>
<span class="co">## [1] FALSE</span>
<span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">&lt;</span> <span class="fl">3</span> <span class="co"># FASLE that 2 + 3 is less than 3</span>
<span class="co">## [1] FALSE</span>
<span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">&gt;</span> <span class="fl">3</span> <span class="co"># TRUE that 2 + 3 is more than 3</span>
<span class="co">## [1] TRUE</span>
<span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">&lt;=</span> <span class="fl">5</span> <span class="co"># TRUE that 2 + 3 is less than or equal to 5</span>
<span class="co">## [1] TRUE</span>
<span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">&gt;=</span> <span class="fl">5</span> <span class="co"># TRUE that 2 + 3 is more than or equal to 5</span>
<span class="co">## [1] TRUE</span></code></pre></div>
<p>You can use logical operators to connect two or more expressions. For example, to connect the results of the comparisons made using relational operators.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">(</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="op">(</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">&lt;</span> <span class="fl">3</span><span class="op">)</span> <span class="co"># logical AND operator</span>
<span class="co">## [1] FALSE</span>
<span class="op">(</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span> <span class="op">||</span> <span class="op">(</span><span class="fl">2</span> <span class="op">+</span> <span class="fl">3</span> <span class="op">&gt;=</span> <span class="fl">3</span><span class="op">)</span> <span class="co"># logical OR operator</span>
<span class="co">## [1] TRUE</span></code></pre></div>
<p>Note that the logical <code><a href="https://rdrr.io/r/base/Logic.html">&amp;&amp;</a></code> and <code><a href="https://rdrr.io/r/base/Logic.html">||</a></code> only examines the first element of a vector.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&amp;&amp;</span> <span class="va">y</span>
<span class="co">## [1] FALSE</span>
<span class="va">x</span> <span class="op">||</span> <span class="va">y</span>
<span class="co">## [1] TRUE</span></code></pre></div>
<p>To perform element-wise logical operations, use <code><a href="https://rdrr.io/r/base/Logic.html">&amp;</a></code> and <code><a href="https://rdrr.io/r/base/Logic.html">|</a></code> instead</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&amp;</span> <span class="va">y</span>
<span class="co">## [1] FALSE  TRUE FALSE</span>
<span class="va">x</span> <span class="op">|</span> <span class="va">y</span>
<span class="co">## [1]  TRUE  TRUE FALSE</span>
<span class="op">!</span><span class="va">y</span>
<span class="co">## [1]  TRUE FALSE  TRUE</span></code></pre></div>
</div>
<div id="basic-data-types" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Basic data types<a class="anchor" aria-label="anchor" href="#basic-data-types"><i class="fas fa-link"></i></a>
</h2>
<p>There are basic data types (also known as atomic data types) in R in order to use them.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">Data Type</th>
<th align="left">Examples</th>
<th align="left">Additional Information</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Logical</td>
<td align="left">
<code>TRUE</code>, <code>FALSE</code>
</td>
<td align="left">Boolean values</td>
</tr>
<tr class="even">
<td align="left">Numeric</td>
<td align="left">
<code>1</code>, <code>999.9</code>
</td>
<td align="left">Default data type for numbers</td>
</tr>
<tr class="odd">
<td align="left">Integer</td>
<td align="left">
<code>1L</code>, <code>999L</code>
</td>
<td align="left">
<code>L</code> is used to denote an integer</td>
</tr>
<tr class="even">
<td align="left">Character</td>
<td align="left">
<code>"a"</code>, <code>"R for BES"</code>
</td>
<td align="left">Data type for one or more characters</td>
</tr>
<tr class="odd">
<td align="left">Complex</td>
<td align="left"><code>2 + 3i</code></td>
<td align="left">Data type for numbers with a real and imaginary component</td>
</tr>
<tr class="even">
<td align="left">Raw</td>
<td align="left"><code><a href="https://rdrr.io/r/base/rawConversion.html">charToRaw("R for BES")</a></code></td>
<td align="left">Not commonly used data type used to store raw bytes</td>
</tr>
</tbody>
</table></div>
</div>
<div id="basic-data-structures" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Basic data structures<a class="anchor" aria-label="anchor" href="#basic-data-structures"><i class="fas fa-link"></i></a>
</h2>
<p>The basic data structures in R include factors, atomic vectors, lists, matrices, and <code>data.frame</code>s</p>
<p>Factors are used in R to represent categorical variables. Although they appear similar to character vectors they are actually stored as integers. You can use the function <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> to output the categorical variables and <code><a href="https://rdrr.io/r/base/nlevels.html">nlevels()</a></code> to check the number of categorical variables.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eye_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"brown"</span>, <span class="st">"black"</span>, <span class="st">"green"</span>, <span class="st">"brown"</span>, <span class="st">"black"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/nlevels.html">nlevels</a></span><span class="op">(</span><span class="va">eye_color</span><span class="op">)</span>
<span class="co">## [1] 4</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">eye_color</span><span class="op">)</span>
<span class="co">## [1] "black" "blue"  "brown" "green"</span></code></pre></div>
<p>Atomic vectors or more frequently referred to as vectors are a data structure that is used to store multiple objects of the same data type (logical, numeric, integer, character, complex, or raw). Vectors are one-indexed (i.e., the first element is indexed using <code>[1]</code>) and you can get the number of elements in the vector using the function <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>. The function <code><a href="https://rdrr.io/r/base/class.html">class()</a></code> can be used to reveal the class of any object in R.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">vec_num</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">vec_num</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="va">vec_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"R"</span>, <span class="st">"for"</span>, <span class="st">"BES"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">vec_char</span><span class="op">)</span>
<span class="co">## [1] "character"</span>

<span class="co"># coercion if data types are mixed</span>
<span class="va">vec_mix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"R"</span>, <span class="fl">4</span>, <span class="st">"BES"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">vec_mix</span><span class="op">)</span>
<span class="co">## [1] "character"</span>

<span class="co"># you can easily combine vectors using the c function</span>
<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">vec_char</span>, <span class="va">vec_mix</span><span class="op">)</span>
<span class="co">## [1] "R"   "for" "BES" "R"   "4"   "BES"</span>

<span class="co"># vector length</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vec_num</span><span class="op">)</span>
<span class="co">## [1] 4</span>

<span class="co"># access first element of vector</span>
<span class="va">vec_num</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="co">## [1] 1</span></code></pre></div>
<p>Lists are an ordered data structure that is used to store multiple R objects of different types. The function <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> is used to create a list and a list in R can be accessed using a single <code>[]</code> or double brackets <code>[[]]</code>. Using <code>[]</code> returns a list of the selected element while using <code>[[]]</code> returns the selected element. Using the function <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>, you can obtain the number of objects in a list.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>,
  <span class="fl">1L</span>,
  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">my_list_a</span> <span class="op">&lt;-</span> <span class="va">my_list</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_list_a</span><span class="op">)</span>
<span class="co">## [1] "list"</span>

<span class="va">my_list_b</span> <span class="op">&lt;-</span> <span class="va">my_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_list_b</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">my_list</span><span class="op">)</span>
<span class="co">## [1] 4</span></code></pre></div>
<p>If you have named the elements in your list, you could also access them by specifying their names in the brackets or using the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">named_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,
  b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>,
  c <span class="op">=</span> <span class="fl">1L</span>,
  d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, ncol <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">named_list</span><span class="op">[</span><span class="st">"a"</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "list"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">named_list</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">named_list</span><span class="op">$</span><span class="va">a</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span></code></pre></div>
<p>A matrix is a two dimensional data structure that is used to store multiple objects. You can use the function <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code> to create a matrix using the <code>ncol</code> and <code>nrow</code> argument to specify the number of columns and rows respectively, and the <code>byrow</code> argument to specify how the data in would be ordered.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, ncol <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">##      [,1] [,2] [,3]</span>
<span class="co">## [1,]    1    5    9</span>
<span class="co">## [2,]    2    6   10</span>
<span class="co">## [3,]    3    7   11</span>
<span class="co">## [4,]    4    8   12</span>

<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">##      [,1] [,2] [,3] [,4]</span>
<span class="co">## [1,]    1    4    7   10</span>
<span class="co">## [2,]    2    5    8   11</span>
<span class="co">## [3,]    3    6    9   12</span>

<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, ncol <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">##      [,1] [,2] [,3]</span>
<span class="co">## [1,]    1    2    3</span>
<span class="co">## [2,]    4    5    6</span>
<span class="co">## [3,]    7    8    9</span>
<span class="co">## [4,]   10   11   12</span></code></pre></div>
<p>Aside from numeric data types, a matrix can also be used to store other data types as long as they are homogeneous. To store heterogeneous data types, you should use a data frame which is introduced next.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"brown"</span>, <span class="st">"black"</span>, <span class="st">"green"</span>, <span class="st">"brown"</span>, <span class="st">"black"</span>, <span class="st">"blue"</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">##      [,1]    [,2]   </span>
<span class="co">## [1,] "brown" "brown"</span>
<span class="co">## [2,] "black" "black"</span>
<span class="co">## [3,] "green" "blue"</span>

<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"TRUE"</span>, <span class="st">"TRUE"</span>, <span class="st">"FALSE"</span>, <span class="st">"FALSE"</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">##      [,1]   [,2]   </span>
<span class="co">## [1,] "TRUE" "FALSE"</span>
<span class="co">## [2,] "TRUE" "FALSE"</span>

<span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">##      [,1] [,2]</span>
<span class="co">## [1,]    1    3</span>
<span class="co">## [2,]    2    4</span></code></pre></div>
<p>You can access the values in a matrix by providing the row and column index. For example, <code>[1, 2]</code> would return the value stored in the first row, second column of the matrix. <code>[3, 1]</code> would return the value stored in the third row, first of the matrix. You can retrieve all the values in a column by leaving the row index empty and likewise retrieve all the values in a row by leaving the column index empty. For example, <code>[, 2]</code> would return all the values in column 2 and <code>[2, ]</code> would return all the values in row 2.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, nrow <span class="op">=</span> <span class="fl">3</span>, byrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="va">m</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">## [1] 4</span>

<span class="va">m</span><span class="op">[</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">]</span>
<span class="co">## [1] 3</span>

<span class="va">m</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">## [1] 4 5 6</span>

<span class="va">m</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>
<span class="co">## [1]  2  5  8 11</span></code></pre></div>
<p>A <code>data.frame</code> is a two-dimensional data structures that are used to store heterogeneous data types in R. As a result of it’s convenience, data frames are a commonly used data structure in R. You can use the function <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> to create a data frame.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,
  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span><span class="op">)</span>,
  z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>You can access elements of a data.frame like a list <code>[]</code>, <code>[[]]</code> or <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>. Using <code>[]</code> returns a <code>data.frame</code> of the selected element while using <code>[[]]</code> or <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> will reduce it to a vector.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span>
<span class="co">##   x     y     z</span>
<span class="co">## 1 1   red  TRUE</span>
<span class="co">## 2 2 green FALSE</span>
<span class="co">## 3 3  blue  TRUE</span>

<span class="va">df</span><span class="op">[</span><span class="st">"y"</span><span class="op">]</span>
<span class="co">##       y</span>
<span class="co">## 1   red</span>
<span class="co">## 2 green</span>
<span class="co">## 3  blue</span>

<span class="va">df</span><span class="op">[[</span><span class="st">"y"</span><span class="op">]</span><span class="op">]</span>
<span class="co">## [1] "red"   "green" "blue"</span>

<span class="va">df</span><span class="op">$</span><span class="va">y</span>
<span class="co">## [1] "red"   "green" "blue"</span></code></pre></div>
<p>You can also access a <code>data.frame</code> like a matrix.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span>
<span class="co">##   x     y     z</span>
<span class="co">## 1 1   red  TRUE</span>
<span class="co">## 2 2 green FALSE</span>
<span class="co">## 3 3  blue  TRUE</span>

<span class="va">df</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">## [1] "red"</span>

<span class="va">df</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">## [1] "red"   "green" "blue"</span>

<span class="va">df</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span>
<span class="co">##   x     y     z</span>
<span class="co">## 2 2 green FALSE</span></code></pre></div>
</div>
<div id="tibbles" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Tibbles<a class="anchor" aria-label="anchor" href="#tibbles"><i class="fas fa-link"></i></a>
</h2>
<p>Tibbles are basically a modified version of R’s <code>data.frame</code>. Therefore, you would also access tibbles like how you would access a <code>data.frame</code>. You can create a tibble using the function <code>tibble()</code>. Alternatively, you can coerce a data frame into a tibble using <code>as_tibble()</code>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tibble</span><span class="op">(</span>
  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,
  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span><span class="op">)</span>,
  z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">## # A tibble: 3 x 3</span>
<span class="co">##       x y     z    </span>
<span class="co">##   &lt;dbl&gt; &lt;chr&gt; &lt;lgl&gt;</span>
<span class="co">## 1     1 red   TRUE </span>
<span class="co">## 2     2 green FALSE</span>
<span class="co">## 3     3 blue  TRUE</span>

<span class="fu">as_tibble</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="co">## # A tibble: 150 x 5</span>
<span class="co">##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="co">##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  </span>
<span class="co">##  1          5.1         3.5          1.4         0.2 setosa </span>
<span class="co">##  2          4.9         3            1.4         0.2 setosa </span>
<span class="co">##  3          4.7         3.2          1.3         0.2 setosa </span>
<span class="co">##  4          4.6         3.1          1.5         0.2 setosa </span>
<span class="co">##  5          5           3.6          1.4         0.2 setosa </span>
<span class="co">##  6          5.4         3.9          1.7         0.4 setosa </span>
<span class="co">##  7          4.6         3.4          1.4         0.3 setosa </span>
<span class="va">....</span></code></pre></div>
<p>A key difference lies in how tibbles are printed. Printing a tibble only results in the first ten rows being displayed with an explicit reporting of each column’s data type.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tb</span> <span class="op">&lt;-</span> <span class="fu">as_tibble</span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">tb</span><span class="op">)</span>
<span class="co">## # A tibble: 150 x 5</span>
<span class="co">##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species</span>
<span class="co">##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  </span>
<span class="co">##  1          5.1         3.5          1.4         0.2 setosa </span>
<span class="co">##  2          4.9         3            1.4         0.2 setosa </span>
<span class="co">##  3          4.7         3.2          1.3         0.2 setosa </span>
<span class="co">##  4          4.6         3.1          1.5         0.2 setosa </span>
<span class="co">##  5          5           3.6          1.4         0.2 setosa </span>
<span class="co">##  6          5.4         3.9          1.7         0.4 setosa </span>
<span class="co">##  7          4.6         3.4          1.4         0.3 setosa </span>
<span class="va">....</span>

<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species</span>
<span class="co">## 1            5.1         3.5          1.4         0.2     setosa</span>
<span class="co">## 2            4.9         3.0          1.4         0.2     setosa</span>
<span class="co">## 3            4.7         3.2          1.3         0.2     setosa</span>
<span class="co">## 4            4.6         3.1          1.5         0.2     setosa</span>
<span class="co">## 5            5.0         3.6          1.4         0.2     setosa</span>
<span class="co">## 6            5.4         3.9          1.7         0.4     setosa</span>
<span class="co">## 7            4.6         3.4          1.4         0.3     setosa</span>
<span class="co">## 8            5.0         3.4          1.5         0.2     setosa</span>
<span class="co">## 9            4.4         2.9          1.4         0.2     setosa</span>
<span class="va">....</span></code></pre></div>
<p>Unlike a <code>data.frame</code>, tibbles provides clarity on the data structure that it returns. When indexing with tibbles, <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> always return another tibble while <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> and <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> alway returns a vector. In contrast, single column data frames are often converted into atomic vectors in R unless <code>drop = FALSE</code> is specified.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tb</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "tbl_df"     "tbl"        "data.frame"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tb</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">tb</span><span class="op">$</span><span class="va">Sepal.Length</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>, <span class="fl">1</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "data.frame"</span></code></pre></div>
<p>Additionally, tibbles do not do partial matching and raises a warning unless the variable specified is an exact match.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tb</span><span class="op">$</span><span class="va">Sepal.Lengt</span>
<span class="co">## Warning: Unknown or uninitialised column: `Sepal.Lengt`.</span>
<span class="co">## NULL</span>

<span class="va">df</span><span class="op">$</span><span class="va">Sepal.Lengt</span>
<span class="co">##   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1</span>
<span class="co">##  [19] 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.0</span>
<span class="co">##  [37] 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5</span>
<span class="co">##  [55] 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1</span>
<span class="co">##  [73] 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 6.3 5.6 5.5</span>
<span class="co">##  [91] 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3</span>
<span class="co">## [109] 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2</span>
<span class="co">## [127] 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8</span>
<span class="co">## [145] 6.7 6.7 6.3 6.5 6.2 5.9</span></code></pre></div>
<p>You can read more about tibbles by typing vignette(“tibble”) in your console.</p>
</div>
<div id="data-table" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> data.table<a class="anchor" aria-label="anchor" href="#data-table"><i class="fas fa-link"></i></a>
</h2>
<p>Like tibbles, <code>data.table</code>s are an enhanced version of <code>data.frame</code>s. You can create a <code>data.table</code> using the function <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table()</a></code>. You can also coerce existing R objects into a <code>data.table</code> with <code><a href="https://Rdatatable.gitlab.io/data.table/reference/setDT.html">setDT()</a></code> for <code>data.frame</code>s and lists, and <code><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html">as.data.table()</a></code> for other data structures. Note that <code><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html">as.data.table()</a></code> also works with <code>data.frame</code>s and lists. However <code><a href="https://Rdatatable.gitlab.io/data.table/reference/setDT.html">setDT()</a></code> is more memory efficient because it does not create a copy of the original data frame or list but instead returns a data table by reference.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html">data.table</a></span><span class="op">(</span>
  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,
  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span><span class="op">)</span>,
  z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span>
  <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/setDT.html">setDT</a></span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">)</span>
<span class="co">## [1] "data.table" "data.frame"</span></code></pre></div>
<p><code>data.table</code>s provide additional functionality through the way it is queried. The general form for working with a data table is <code>[i, j, by]</code>, which can be read as subset rows using <code>i</code>, operate on <code>j</code>, and grouped by <code>by</code>.</p>
<p>Lets see how this work using the <code>iris</code> example dataset.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html">as.data.table</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span>
<span class="co">##      Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</span>
<span class="co">##   1:          5.1         3.5          1.4         0.2    setosa</span>
<span class="co">##   2:          4.9         3.0          1.4         0.2    setosa</span>
<span class="co">##   3:          4.7         3.2          1.3         0.2    setosa</span>
<span class="co">##   4:          4.6         3.1          1.5         0.2    setosa</span>
<span class="co">##   5:          5.0         3.6          1.4         0.2    setosa</span>
<span class="co">##  ---                                                            </span>
<span class="co">## 146:          6.7         3.0          5.2         2.3 virginica</span>
<span class="co">## 147:          6.3         2.5          5.0         1.9 virginica</span>
<span class="co">## 148:          6.5         3.0          5.2         2.0 virginica</span>
<span class="va">....</span></code></pre></div>
<p>You can filter the rows to only contain <code>Species == "virginica</code>.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt</span><span class="op">[</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span><span class="op">]</span>
<span class="co">##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</span>
<span class="co">##  1:          6.3         3.3          6.0         2.5 virginica</span>
<span class="co">##  2:          5.8         2.7          5.1         1.9 virginica</span>
<span class="co">##  3:          7.1         3.0          5.9         2.1 virginica</span>
<span class="co">##  4:          6.3         2.9          5.6         1.8 virginica</span>
<span class="co">##  5:          6.5         3.0          5.8         2.2 virginica</span>
<span class="co">##  6:          7.6         3.0          6.6         2.1 virginica</span>
<span class="co">##  7:          4.9         2.5          4.5         1.7 virginica</span>
<span class="co">##  8:          7.3         2.9          6.3         1.8 virginica</span>
<span class="co">##  9:          6.7         2.5          5.8         1.8 virginica</span>
<span class="va">....</span></code></pre></div>
<p>You can select the columns using the <code>j</code> expression. Notice that wrapping the variables within <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> or <code>.()</code> ensures that a <code>data.table</code> is returned. In contrast, an atomic vector is returned when <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> or <code>.()</code> is not used. <code>.()</code> is an alias for <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> and therefore the two are the same.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt</span><span class="op">[</span>, <span class="va">Sepal.Length</span><span class="op">]</span>
<span class="co">##   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4 5.1</span>
<span class="co">##  [19] 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5 4.9 5.0</span>
<span class="co">##  [37] 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0 6.4 6.9 5.5</span>
<span class="co">##  [55] 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8 6.2 5.6 5.9 6.1</span>
<span class="co">##  [73] 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4 6.0 6.7 6.3 5.6 5.5</span>
<span class="co">##  [91] 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8 7.1 6.3 6.5 7.6 4.9 7.3</span>
<span class="co">## [109] 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7 6.0 6.9 5.6 7.7 6.3 6.7 7.2</span>
<span class="co">## [127] 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8</span>
<span class="co">## [145] 6.7 6.7 6.3 6.5 6.2 5.9</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dt</span><span class="op">[</span>, <span class="va">Sepal.Length</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "numeric"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dt</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "data.table" "data.frame"</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dt</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="co">## [1] "data.table" "data.frame"</span></code></pre></div>
<p>You can select multiple columns with <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> or <code>.()</code>.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">dt</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">Sepal.Length</span>, <span class="va">Species</span><span class="op">)</span><span class="op">]</span>
<span class="co">##      Sepal.Length   Species</span>
<span class="co">##   1:          5.1    setosa</span>
<span class="co">##   2:          4.9    setosa</span>
<span class="co">##   3:          4.7    setosa</span>
<span class="co">##   4:          4.6    setosa</span>
<span class="co">##   5:          5.0    setosa</span>
<span class="co">##  ---                       </span>
<span class="co">## 146:          6.7 virginica</span>
<span class="co">## 147:          6.3 virginica</span>
<span class="co">## 148:          6.5 virginica</span>
<span class="va">....</span></code></pre></div>
<p>Aside from selecting columns using <code>j</code>, you can carry out computations on <code>j</code> involving one or more columns and a subset of rows using <code>i</code>.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">dt</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">]</span>
<span class="co">## [1] 5.843333</span>

<span class="va">dt</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>
  Sepal.Length.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>,
  Sepal.With.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span>
<span class="op">)</span><span class="op">]</span>
<span class="co">##    Sepal.Length.Mean Sepal.With.Mean</span>
<span class="co">## 1:          5.843333        3.057333</span>

<span class="va">dt</span><span class="op">[</span>
  <span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span> <span class="op">&amp;</span> <span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fl">6</span>,
  <span class="fu">.</span><span class="op">(</span>
    Sepal.Length.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>,
    Sepal.With.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span>
  <span class="op">)</span>
<span class="op">]</span>
<span class="co">##    Sepal.Length.Mean Sepal.With.Mean</span>
<span class="co">## 1:          5.642857        2.714286</span></code></pre></div>
<p>You can then use the <code>by</code> expression in data tables to perform computations by groups.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">dt</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>
  Sepal.Length.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>,
  Sepal.With.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span>
<span class="op">)</span>,
by <span class="op">=</span> <span class="va">Species</span>
<span class="op">]</span>
<span class="co">##       Species Sepal.Length.Mean Sepal.With.Mean</span>
<span class="co">## 1:     setosa             5.006           3.428</span>
<span class="co">## 2: versicolor             5.936           2.770</span>
<span class="co">## 3:  virginica             6.588           2.974</span></code></pre></div>
<p>The <code>.N</code> variable that counts the number of instances is particularly useful when combined with <code>by</code>.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">dt</span><span class="op">[</span>, <span class="va">.N</span>, by <span class="op">=</span> <span class="va">Species</span><span class="op">]</span>
<span class="co">##       Species  N</span>
<span class="co">## 1:     setosa 50</span>
<span class="co">## 2: versicolor 50</span>
<span class="co">## 3:  virginica 50</span></code></pre></div>
<p>You can also apply it to multiple columns using the <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> or <code>.()</code> notation. You can read the code below as calculating the mean of <code>Speal.Length</code> and the number of instances (given by <code>.N</code>) grouped by their <code>Species</code> and whether <code>Sepal.Length &lt; 6</code>.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>Sepal.Length.Mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>, <span class="va">.N</span><span class="op">)</span>,
  by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">Species</span>, <span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fl">6</span><span class="op">)</span>
<span class="op">]</span>
<span class="co">##       Species Sepal.Length &lt; 6 Sepal.Length.Mean  N</span>
<span class="co">## 1:     setosa             TRUE          5.006000 50</span>
<span class="co">## 2: versicolor            FALSE          6.375000 24</span>
<span class="co">## 3: versicolor             TRUE          5.530769 26</span>
<span class="co">## 4:  virginica            FALSE          6.741860 43</span>
<span class="co">## 5:  virginica             TRUE          5.642857  7</span></code></pre></div>
<p><code>data.table</code>s add, update, and delete columns by reference to avoid redundant copies for performance improvements. You can use the <code>:=</code> operator to add, update, and delete columns in <code>j</code> by reference. There are two forms for using <code>:=</code> and they are: <code>[, LSH := RHS]</code> and <code>[,</code>:=<code>(LHS = RHS)]</code>.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html">as.data.table</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>

<span class="va">dt</span><span class="op">[</span>, <span class="va">Sepal.Sum</span> <span class="op">:=</span> <span class="fu">.</span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Sepal.Width</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span>
<span class="co">##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species Sepal.Sum</span>
<span class="co">## 1:          5.1         3.5          1.4         0.2  setosa       8.6</span>
<span class="co">## 2:          4.9         3.0          1.4         0.2  setosa       7.9</span>
<span class="co">## 3:          4.7         3.2          1.3         0.2  setosa       7.9</span>
<span class="co">## 4:          4.6         3.1          1.5         0.2  setosa       7.7</span>
<span class="co">## 5:          5.0         3.6          1.4         0.2  setosa       8.6</span>
<span class="co">## 6:          5.4         3.9          1.7         0.4  setosa       9.3</span>

<span class="va">dt</span><span class="op">[</span>, <span class="fu">`:=`</span><span class="op">(</span>Petal.Sum <span class="op">=</span> <span class="va">Petal.Length</span> <span class="op">+</span> <span class="va">Petal.Width</span><span class="op">)</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span>
<span class="co">##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species Sepal.Sum</span>
<span class="co">## 1:          5.1         3.5          1.4         0.2  setosa       8.6</span>
<span class="co">## 2:          4.9         3.0          1.4         0.2  setosa       7.9</span>
<span class="co">## 3:          4.7         3.2          1.3         0.2  setosa       7.9</span>
<span class="co">## 4:          4.6         3.1          1.5         0.2  setosa       7.7</span>
<span class="co">## 5:          5.0         3.6          1.4         0.2  setosa       8.6</span>
<span class="co">## 6:          5.4         3.9          1.7         0.4  setosa       9.3</span>
<span class="co">##    Petal.Sum</span>
<span class="co">## 1:       1.6</span>
<span class="co">## 2:       1.6</span>
<span class="va">....</span></code></pre></div>
<p>Note that in the above code, we do not need to make any assignments back to a variable because the modification is done by reference or in place. In other words we are modifying <code>dt</code> and not a copy of <code>dt</code>. Therefore, you will also see that if you run the entire code chunk above, <code>dt</code> will contain both columns <code>Sepal.Sum</code> and <code>Petal.Sum</code>.</p>
<p>Since <code>:=</code> is used in <code>j</code>, it can be combined with <code>i</code> and <code>by</code> as we have seen in the earlier parts of this sub-section.</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">dt</span><span class="op">[</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"versicolor"</span> <span class="op">|</span> <span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span>, <span class="va">Sepal.Length</span> <span class="op">:=</span> <span class="fl">0</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span>
<span class="co">##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species Sepal.Sum</span>
<span class="co">## 1:          5.1         3.5          1.4         0.2  setosa       8.6</span>
<span class="co">## 2:          4.9         3.0          1.4         0.2  setosa       7.9</span>
<span class="co">## 3:          4.7         3.2          1.3         0.2  setosa       7.9</span>
<span class="co">## 4:          4.6         3.1          1.5         0.2  setosa       7.7</span>
<span class="co">## 5:          5.0         3.6          1.4         0.2  setosa       8.6</span>
<span class="co">## 6:          5.4         3.9          1.7         0.4  setosa       9.3</span>
<span class="co">##    Petal.Sum</span>
<span class="co">## 1:       1.6</span>
<span class="co">## 2:       1.6</span>
<span class="va">....</span>

<span class="va">dt</span><span class="op">[</span>, <span class="va">Sepal.Length.Mean</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>,
  by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span><span class="va">Species</span><span class="op">)</span>
<span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dt</span><span class="op">)</span>
<span class="co">##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species Sepal.Sum</span>
<span class="co">## 1:          5.1         3.5          1.4         0.2  setosa       8.6</span>
<span class="co">## 2:          4.9         3.0          1.4         0.2  setosa       7.9</span>
<span class="co">## 3:          4.7         3.2          1.3         0.2  setosa       7.9</span>
<span class="co">## 4:          4.6         3.1          1.5         0.2  setosa       7.7</span>
<span class="co">## 5:          5.0         3.6          1.4         0.2  setosa       8.6</span>
<span class="co">## 6:          5.4         3.9          1.7         0.4  setosa       9.3</span>
<span class="co">##    Petal.Sum Sepal.Length.Mean</span>
<span class="co">## 1:       1.6             5.006</span>
<span class="co">## 2:       1.6             5.006</span>
<span class="va">....</span></code></pre></div>
<p>You can find out more about <code>data.table</code>s by typing <code>vignette(package = "data.table")</code> into the console.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-basics.html"><span class="header-section-number">1</span> Introduction</a></div>
<div class="next"><a href="datetime.html"><span class="header-section-number">3</span> Dates and Times</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#basics"><span class="header-section-number">2</span> Basics</a></li>
<li><a class="nav-link" href="#prerequisites-1"><span class="header-section-number">2.1</span> Prerequisites</a></li>
<li><a class="nav-link" href="#basic-operators"><span class="header-section-number">2.2</span> Basic operators</a></li>
<li><a class="nav-link" href="#basic-data-types"><span class="header-section-number">2.3</span> Basic data types</a></li>
<li><a class="nav-link" href="#basic-data-structures"><span class="header-section-number">2.4</span> Basic data structures</a></li>
<li><a class="nav-link" href="#tibbles"><span class="header-section-number">2.5</span> Tibbles</a></li>
<li><a class="nav-link" href="#data-table"><span class="header-section-number">2.6</span> data.table</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Building Energy Simulation</strong>" was written by Adrian Chong. It was last built on 2021-10-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
