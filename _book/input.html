<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 13 Model Input Structure | R for Building Energy Simulation</title>
<meta name="author" content="Adrian Chong">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Building Energy Simulation</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li class="book-part">R Basics</li>
<li><a class="" href="r-basics.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">2</span> Basics</a></li>
<li><a class="" href="dates-and-times.html"><span class="header-section-number">3</span> Dates and Times</a></li>
<li><a class="" href="importing-data.html"><span class="header-section-number">4</span> Importing Data</a></li>
<li><a class="" href="regular-expressions.html"><span class="header-section-number">5</span> Regular expressions</a></li>
<li><a class="" href="functions.html"><span class="header-section-number">6</span> Functions</a></li>
<li><a class="" href="manipulate.html"><span class="header-section-number">7</span> Manipulating Data</a></li>
<li class="book-part">Get Started</li>
<li><a class="" href="get-started.html"><span class="header-section-number">8</span> Introduction</a></li>
<li><a class="" href="parse.html"><span class="header-section-number">9</span> Parse then simulate</a></li>
<li><a class="" href="summary.html"><span class="header-section-number">10</span> Summary reports</a></li>
<li><a class="" href="visualize.html"><span class="header-section-number">11</span> Visualize</a></li>
<li class="book-part">Inputs and Outputs</li>
<li><a class="" href="input-output.html"><span class="header-section-number">12</span> Introduction</a></li>
<li><a class="active" href="input.html"><span class="header-section-number">13</span> Model Input Structure</a></li>
<li><a class="" href="modify.html"><span class="header-section-number">14</span> Modify model inputs</a></li>
<li><a class="" href="output.html"><span class="header-section-number">15</span> Detailed output</a></li>
<li><a class="" href="explore.html"><span class="header-section-number">16</span> Model Exploration</a></li>
<li class="book-part">Program</li>
<li><a class="" href="program.html"><span class="header-section-number">17</span> Introduction</a></li>
<li><a class="" href="energy-efficient-measures.html"><span class="header-section-number">18</span> Energy Efficient Measures</a></li>
<li><a class="" href="parametric-simulations.html"><span class="header-section-number">19</span> Parametric simulations</a></li>
<li class="book-part">Advanced</li>
<li><a class="" href="advanced.html"><span class="header-section-number">20</span> Introduction</a></li>
<li><a class="" href="sensitivity-analysis.html"><span class="header-section-number">21</span> Sensitivity analysis</a></li>
<li><a class="" href="optimization.html"><span class="header-section-number">22</span> Optimization</a></li>
<li><a class="" href="calibration.html"><span class="header-section-number">23</span> Calibration</a></li>
<li class="book-part">Reproduce</li>
<li><a class="" href="reproduce.html"><span class="header-section-number">24</span> Introduction</a></li>
<li><a class="" href="r-markdown.html"><span class="header-section-number">25</span> R Markdown</a></li>
<li><a class="" href="containers.html"><span class="header-section-number">26</span> Containers</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="input" class="section level1" number="13">
<h1>
<span class="header-section-number">13</span> Model Input Structure<a class="anchor" aria-label="anchor" href="#input"><i class="fas fa-link"></i></a>
</h1>
<div id="prerequisites-10" class="section level2" number="13.1">
<h2>
<span class="header-section-number">13.1</span> Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites-10"><i class="fas fa-link"></i></a>
</h2>
<p>In this chapter, we will use the <strong>eplusr</strong> package to extract various inputs in an EnergyPlus model, and through this, learn how the inputs in EnergyPlus are structured.</p>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://hongyuanjia.github.io/eplusr/">eplusr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></code></pre></div>
<p>We will be working with the IDF and EPW file that pertains to the U.S. Department of Energy (DOE) Commercial Reference Building and Chicago’s TMY3 respectively.</p>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">path_idf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"idf"</span>, <span class="st">"RefBldgMediumOfficeNew2004_Chicago.idf"</span><span class="op">)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://hongyuanjia.github.io/eplusr/reference/read_idf.html">read_idf</a></span><span class="op">(</span><span class="va">path_idf</span><span class="op">)</span>

<span class="va">path_epw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"epw"</span>, <span class="st">"USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.epw"</span><span class="op">)</span>
<span class="va">epw</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://hongyuanjia.github.io/eplusr/reference/read_epw.html">read_epw</a></span><span class="op">(</span><span class="va">path_epw</span><span class="op">)</span></code></pre></div>
</div>
<div id="energyplus-documentation" class="section level2" number="13.2">
<h2>
<span class="header-section-number">13.2</span> EnergyPlus Documentation<a class="anchor" aria-label="anchor" href="#energyplus-documentation"><i class="fas fa-link"></i></a>
</h2>
<p>Although the focus of this chapter is to elucidate how the model inputs are structured to facilitate querying and modifying them, it is also important to understand what each input means. Fortunately, EnergyPlus is well documented and these documentation comes downloaded with any installation of EnergyPlus. You will find these documents within EnergyPlus’s installation folder.By default, EnergyPlus will be installed in <code>C:\EnergyPlusVX-Y-0</code> on Windows, <code>/usr/local/EnergyPlus-X-Y-0</code> on Linux and <code>/Applications/EnergyPlus-X-Y-0</code> on macOS).</p>
<p>I would highly recommend referring to the EnergyPlus input output reference (<code>[EnergyPlus installation folder] &gt; Documentation &gt; InputOutputReference.pdf</code>), which provides a thorough description of every field for every input object in EnergyPlus.</p>
<p>For those who find that the input output reference does not satisfy your inquisitive mind, I would recommend reading the EnergyPlus engineering reference (<code>[EnergyPlus installation folder] &gt; Documentation &gt; EngineeringReference.pdf</code>), which provides insights into the theoretical basis behind various EnergyPlus calculations.</p>
</div>
<div id="energyplus-input-structure" class="section level2" number="13.3">
<h2>
<span class="header-section-number">13.3</span> EnergyPlus input structure<a class="anchor" aria-label="anchor" href="#energyplus-input-structure"><i class="fas fa-link"></i></a>
</h2>
<p>In EnergyPlus, the inputs to the model can be categorized hierarchically where the top level is known as the class groups (Figure <a href="input.html#fig:group-class-field">13.1</a>). Each class group consists of multiple input classes that are identifiable by their class names. Each class is then defined by fields that may or may not be required. Required fields as it’s name suggest are field that must have a value. If the field is left blank and there are no pre-defined default values, an error will be raised when the simulation is run.</p>
<div class="figure" style="text-align: center">
<span id="fig:group-class-field"></span>
<img src="figures/group_class_field.png" alt="Hierarchical model inputs organizational structure." width="80%"><p class="caption">
Figure 13.1: Hierarchical model inputs organizational structure.
</p>
</div>
<p>Figure <a href="input.html#fig:input-structure">13.2</a> illustrates this using the class group <code>Surface Construction Elements</code> in EnergyPlus. The <code>Surface Construction Elements</code> class groups consists of several classes that include the <code>Material:NoMass</code>, <code>Material:AirGap</code>, and the <code>WindowMaterial:SimpleGalzingSystem</code> class amongst others. Each class is then defined by their respective fields. For example, the <code>WindowMaterial:SimpleGalzingSystem</code> class is defined by a unique <code>Name</code>, the <code>U-Factor</code>, <code>SHGC</code> or Solar Heat gain Coefficient, and the `Visible Transmittance of the glazing system.</p>
<div class="figure" style="text-align: center">
<span id="fig:input-structure"></span>
<img src="figures/input_structure.png" alt="Categorization of EnergyPlus inputs" width="80%"><p class="caption">
Figure 13.2: Categorization of EnergyPlus inputs
</p>
</div>
</div>
<div id="class-vs-object" class="section level2" number="13.4">
<h2>
<span class="header-section-number">13.4</span> Class vs Object<a class="anchor" aria-label="anchor" href="#class-vs-object"><i class="fas fa-link"></i></a>
</h2>
<p>In this book, we make a distinction between classes and objects following the terminologies of object-oriented programming (OOP). The difference between classes and objects is subtle yet conceptually simple. You can think of a class as a blueprint or template for creating objects. The created objects are therefore instances of the class. For example, when modeling glazing systems from the perspective of running an energy simulation, the thermal properties of the glazing system would be required for the calculations. Different glazing systems would have different thermal properties, which include the U-factor, solar heat gain coefficient (SHGC), and visible transmittance (<span class="math inline">\(T_{vis}\)</span>). However, these properties although having different values, are a common characteristic across different glazing systems. Therefore, a glazing system class with the variables U-factor, SHGC, and <span class="math inline">\(T_{vis}\)</span> can be used as a template to create various glazing objects.</p>
<div class="figure" style="text-align: center">
<span id="fig:class-object"></span>
<img src="figures/class_object.png" alt="Figure shows how three different glazing objects can be created from a glazing class, which acts as the template." width="80%"><p class="caption">
Figure 13.3: Figure shows how three different glazing objects can be created from a glazing class, which acts as the template.
</p>
</div>
</div>
<div id="model-query" class="section level2" number="13.5">
<h2>
<span class="header-section-number">13.5</span> Model Query<a class="anchor" aria-label="anchor" href="#model-query"><i class="fas fa-link"></i></a>
</h2>
<div id="idf-class-methods" class="section level3" number="13.5.1">
<h3>
<span class="header-section-number">13.5.1</span> <code>Idf</code> class methods<a class="anchor" aria-label="anchor" href="#idf-class-methods"><i class="fas fa-link"></i></a>
</h3>
<p>Since the EnergyPlus model is organized hierarchically, we will demonstrate how to query the model hierarchically using the methods in the <code>Idf</code> class.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="left">
<code>Idf</code> Class Method</th>
<th align="left">What it does</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>$group_name()</code></td>
<td align="left">Query the names of class groups</td>
</tr>
<tr class="even">
<td align="left"><code>$class_name()</code></td>
<td align="left">Query the names of classes</td>
</tr>
<tr class="odd">
<td align="left"><code>$object_name()</code></td>
<td align="left">Query the names of objects in one or more classes</td>
</tr>
<tr class="even">
<td align="left"><code>$objects()</code></td>
<td align="left">Query one or more objects using their names</td>
</tr>
</tbody>
</table></div>
<p>You can see what class groups exists in your model with the <code>$group_name()</code> method</p>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">group_name</span><span class="op">(</span><span class="op">)</span>
<span class="co">##  [1] "Simulation Parameters"              "Location and Climate"              </span>
<span class="co">##  [3] "Schedules"                          "Surface Construction Elements"     </span>
<span class="co">##  [5] "Thermal Zones and Surfaces"         "Internal Gains"                    </span>
<span class="co">##  [7] "Zone Airflow"                       "Exterior Equipment"                </span>
<span class="va">....</span></code></pre></div>
<p>You can also view the list of classes in the model grouped by their corresponding class group.</p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">class_name</span><span class="op">(</span>by_group <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">## $`Simulation Parameters`</span>
<span class="co">##  [1] "Version"                            "SimulationControl"                 </span>
<span class="co">##  [3] "Building"                           "ShadowCalculation"                 </span>
<span class="co">##  [5] "SurfaceConvectionAlgorithm:Inside"  "SurfaceConvectionAlgorithm:Outside"</span>
<span class="co">##  [7] "HeatBalanceAlgorithm"               "ZoneAirHeatBalanceAlgorithm"       </span>
<span class="co">##  [9] "Timestep"                           "ConvergenceLimits"                 </span>
<span class="co">## </span>
<span class="co">## $`Location and Climate`</span>
<span class="co">## [1] "Site:Location"                         </span>
<span class="co">## [2] "SizingPeriod:DesignDay"                </span>
<span class="va">....</span></code></pre></div>
<p>You can also view the list of objects that have been defined in a particular class in the model using the <code>$object_name()</code> method. The example from the code chunk below tells us that there are currently two materials (<code>CP02 CARPET PAD</code> and <code>MAT-AIR-WALL</code>) that have been created using the <code>Material:NoMass</code> class. You can think of these classes as templates for creating objects that defines your model as explained in the previous sub-section. In this particular example, the two material objects <code>CP02 CARPET PAD</code> and <code>MAT-AIR-WALL</code> are instances in the model that have been defined based on the <code>Material:NoMass</code> class.</p>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span><span class="st">"Material:NoMass"</span><span class="op">)</span>
<span class="co">## $`Material:NoMass`</span>
<span class="co">## [1] "CP02 CARPET PAD" "MAT-AIR-WALL"</span></code></pre></div>
<p>You can also query multiple classes.</p>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">object_name</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Material"</span>, <span class="st">"Construction"</span><span class="op">)</span><span class="op">)</span>
<span class="co">## $Material</span>
<span class="co">##  [1] "Steel Frame NonRes Wall Insulation" "IEAD NonRes Roof Insulation"       </span>
<span class="co">##  [3] "Std Wood 6inch"                     "Wood Siding"                       </span>
<span class="co">##  [5] "1/2IN Gypsum"                       "1IN Stucco"                        </span>
<span class="co">##  [7] "8IN CONCRETE HW"                    "Metal Siding"                      </span>
<span class="co">##  [9] "HW CONCRETE"                        "Roof Membrane"                     </span>
<span class="co">## [11] "Metal Decking"                      "Metal Roofing"                     </span>
<span class="co">## [13] "MAT-CC05 4 HW CONCRETE"             "Std AC02"                          </span>
<span class="co">## </span>
<span class="co">## $Construction</span>
<span class="va">....</span></code></pre></div>
<p>Finally, you can also query individual objects using the <code>$objects()</code> method.</p>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">objects</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Steel Frame Non-res Ext Wall"</span>, <span class="st">"IEAD Non-res Roof"</span><span class="op">)</span><span class="op">)</span>
<span class="co">## $`Steel Frame Non-res Ext Wall`</span>
<span class="co">## &lt;IdfObject: 'Construction'&gt; [ID:37] `Steel Frame Non-res Ext Wall`</span>
<span class="co">## ── COMMENTS ────────────────────────────────────────────────────────────────────</span>
<span class="co">## ! ***OPAQUE CONSTRUCTIONS AND MATERIALS***</span>
<span class="co">## ! Exterior Walls</span>
<span class="co">## ── VALUES ──────────────────────────────────────────────────────────────────────</span>
<span class="co">## Class: &lt;Construction&gt;</span>
<span class="co">## ├─ 1*: "Steel Frame Non-res Ext Wall",  !- Name</span>
<span class="co">## │─ 2*: "Wood Siding",      !- Outside Layer</span>
<span class="co">## │─ 3 : "Steel Frame NonRes Wall Insulation",  !- Layer 2</span>
<span class="va">....</span></code></pre></div>
</div>
<div id="operator" class="section level3" number="13.5.2">
<h3>
<span class="header-section-number">13.5.2</span> <code>$</code> operator<a class="anchor" aria-label="anchor" href="#operator"><i class="fas fa-link"></i></a>
</h3>
<p>Since the model is stored as a named list in R, you can use the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> operator to also query elements by name. For instance, you can access the objects defined using the <code>Material:NoMass</code> class with <code>$Material:NoMass</code>. Since class, object, and field names in an EnergyPlus often violets the variable naming restrictions in R (e.g., containing special characters such as <code><a href="https://rdrr.io/r/base/Colon.html">:</a></code>, white spaces, etc.), the identifiers need to be placed within a set of single back quotes <code>`</code> to tell R that this is a variable name.</p>
<p>With <code>$`Material:NoMass`</code> will list all the objects in the <code>Material:NoMass</code> class.</p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">`Material:NoMass`</span>
<span class="co">## $`CP02 CARPET PAD`</span>
<span class="co">## &lt;IdfObject: 'Material:NoMass'&gt; [ID:56] `CP02 CARPET PAD`</span>
<span class="co">## Class: &lt;Material:NoMass&gt;</span>
<span class="co">## ├─ 1*: "CP02 CARPET PAD", !- Name</span>
<span class="co">## │─ 2*: "VeryRough",       !- Roughness</span>
<span class="co">## │─ 3*: 0.2165,            !- Thermal Resistance {m2-K/W}</span>
<span class="co">## │─ 4 : 0.9,               !- Thermal Absorptance</span>
<span class="co">## │─ 5 : 0.7,               !- Solar Absorptance</span>
<span class="co">## └─ 6 : 0.8;               !- Visible Absorptance</span>
<span class="co">## </span>
<span class="va">....</span></code></pre></div>
<p>Since the model is stored hierarchically, you can chain them by adding another <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> to access and modify lower levels. Using the same example, you will be able to retrieve the <code>CP02 CARPET PAD</code> object with <code>$`Material:NoMass`$`CP02 CARPET PAD`</code>.</p>
<div class="sourceCode" id="cb136"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">`Material:NoMass`</span><span class="op">$</span><span class="va">`CP02 CARPET PAD`</span>
<span class="co">## &lt;IdfObject: 'Material:NoMass'&gt; [ID:56] `CP02 CARPET PAD`</span>
<span class="co">## Class: &lt;Material:NoMass&gt;</span>
<span class="co">## ├─ 1*: "CP02 CARPET PAD", !- Name</span>
<span class="co">## │─ 2*: "VeryRough",       !- Roughness</span>
<span class="co">## │─ 3*: 0.2165,            !- Thermal Resistance {m2-K/W}</span>
<span class="co">## │─ 4 : 0.9,               !- Thermal Absorptance</span>
<span class="co">## │─ 5 : 0.7,               !- Solar Absorptance</span>
<span class="co">## └─ 6 : 0.8;               !- Visible Absorptance</span></code></pre></div>
<p>Likewise, you could go further down the hierarchy and extract the value of a particular field of an object by further chaining with another <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code>. The example below shows that the <code>Thermal Resistance</code> value of the <code>CP02 CARPET PAD</code> object that was defined using the <code>Material:NoMass</code> class is <code>0.2165</code>.</p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">`Material:NoMass`</span><span class="op">$</span><span class="va">`CP02 CARPET PAD`</span><span class="op">$</span><span class="va">`Thermal Resistance`</span>
<span class="co">## [1] 0.2165</span></code></pre></div>
<p>You can use the <code>definition</code> method that returns the fields needed as inputs to define a particular class
Now, compare the output from the code chunk below with Figure <a href="input.html#fig:input-structure">13.2</a>. The required fields are indicated by <code>eplusr</code> using an asterix <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>. Using the <code>Material:NoMass</code> class as an example (Figure <a href="input.html#fig:idd-nomass">13.4</a>), the same information can be obtained from the IDD file (<code>Energy+.idd</code>) where the required fields are indicated with the <code>\required-field</code> tag. The definitions of the different tags can be found at the begining of the IDD file.</p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">definition</span><span class="op">(</span><span class="st">"Material:NoMass"</span><span class="op">)</span>
<span class="co">## &lt;IddObject: 'Material:NoMass'&gt;</span>
<span class="co">## ── MEMO ────────────────────────────────────────────────────────────────────────</span>
<span class="co">##   "Regular materials properties described whose principal description is R (Thermal Resistance)"</span>
<span class="co">## </span>
<span class="co">## ── PROPERTIES ──────────────────────────────────────────────────────────────────</span>
<span class="co">##   * Group: 'Surface Construction Elements'</span>
<span class="co">##   * Unique: FALSE</span>
<span class="co">##   * Required: FALSE</span>
<span class="co">##   * Total fields: 6</span>
<span class="co">## </span>
<span class="co">## ── FIELDS ──────────────────────────────────────────────────────────────────────</span>
<span class="co">##   1*: Name</span>
<span class="co">##   2*: Roughness</span>
<span class="co">##   3*: Thermal Resistance</span>
<span class="co">##   4 : Thermal Absorptance</span>
<span class="co">##   5 : Solar Absorptance</span>
<span class="co">##   6 : Visible Absorptance</span></code></pre></div>
<div class="figure" style="text-align: center">
<span id="fig:idd-nomass"></span>
<img src="figures/idd_nomass.png" alt="Screen capture of the definition of the Material:NoMass class from the EnergyPlus IDD file (`Energy+.idd`)" width="685"><p class="caption">
Figure 13.4: Screen capture of the definition of the Material:NoMass class from the EnergyPlus IDD file (<code>Energy+.idd</code>)
</p>
</div>
</div>
</div>
<div id="object-interdependencies" class="section level2" number="13.6">
<h2>
<span class="header-section-number">13.6</span> Object interdependencies<a class="anchor" aria-label="anchor" href="#object-interdependencies"><i class="fas fa-link"></i></a>
</h2>
<p>The inter-dependencies between different objects is a challenging aspect when working with energy models. It is important to note that changing an object not only affects the object but also the objects that reference it. A classic example is the relationship between the building’s thermal zones, surfaces, construction, and materials. A single building energy model comprises of one or more thermal zones and each thermal zone has it’s boundaries defined by several surfaces. Each surface is then assigned one construction where each layer of the construction is a material that is defined based on it’s thermal properties.</p>
<p>Using the construction <code>Steel Frame Non-res Ext Wall</code> as an example. You can see that it references the materials <code>Wood Siding</code>, <code>Steel Frame NonRes Wall Insulation</code>, and <code>1/2IN Gypsum</code>. Likewise, it is referenced by the surfaces <code>Steel Frame Non-res Ext Wall</code>, <code>Perimeter_bot_Plenum_Wall_North</code>, …, <code>Perimeter_top_ZN_4_Wall_West</code>. Therefore, changing the thermal properties of either of the three materials <code>Wood Siding</code>, <code>Steel Frame NonRes Wall Insulation</code>, and <code>1/2IN Gypsum</code> would change the thermal properties of the <code>Steel Frame Non-res Ext Wall</code> Construction and subsequently all the surfaces that references it. On a different note, changing an object’s name would also require updating all the fields in the model that references the object. In this example, changing <code>Steel Frame Non-res Ext Wall</code> to <code>Steel Frame Non-res Wall</code> would require updating all the <code>Construction Name</code> field in the surfaces that references it, otherwise, a severe error would be raised when the simulation is run.</p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">object_relation</span><span class="op">(</span><span class="st">"Steel Frame Non-res Ext Wall"</span><span class="op">)</span>
<span class="co">## ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">##  Class: &lt;Construction&gt;</span>
<span class="co">##  └─ Object [ID:37] &lt;Steel Frame Non-res Ext Wall&gt;</span>
<span class="co">##     ├─ 2: "Wood Siding", !- Outside Layer</span>
<span class="co">##     │  v~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">##     │  └─ Class: &lt;Material&gt;</span>
<span class="co">##     │     └─ Object [ID:50] &lt;Wood Siding&gt;</span>
<span class="co">##     │        └─ 1: "Wood Siding"; !- Name</span>
<span class="co">##     │  </span>
<span class="co">##     ├─ 3: "Steel Frame NonRes Wall Insulation",  !- Layer 2</span>
<span class="va">....</span></code></pre></div>
<p>In EnergyPlus, each object may be referenced by other</p>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="fu">object_relation</span><span class="op">(</span><span class="st">"Window Non-res Fixed"</span><span class="op">)</span>
<span class="co">## ── Refer to Others ─────────────────────────────────────────────────────────────</span>
<span class="co">##  Class: &lt;Construction&gt;</span>
<span class="co">##  └─ Object [ID:45] &lt;Window Non-res Fixed&gt;</span>
<span class="co">##      └─ 2: "NonRes Fixed Assembly Window";  !- Outside Layer</span>
<span class="co">##         v~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="co">##         └─ Class: &lt;WindowMaterial:SimpleGlazingSystem&gt;</span>
<span class="co">##            └─ Object [ID:46] &lt;NonRes Fixed Assembly Window&gt;</span>
<span class="co">##               └─ 1: "NonRes Fixed Assembly Window";  !- Name</span>
<span class="co">##     </span>
<span class="co">## </span>
<span class="va">....</span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="input-output.html"><span class="header-section-number">12</span> Introduction</a></div>
<div class="next"><a href="modify.html"><span class="header-section-number">14</span> Modify model inputs</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#input"><span class="header-section-number">13</span> Model Input Structure</a></li>
<li><a class="nav-link" href="#prerequisites-10"><span class="header-section-number">13.1</span> Prerequisites</a></li>
<li><a class="nav-link" href="#energyplus-documentation"><span class="header-section-number">13.2</span> EnergyPlus Documentation</a></li>
<li><a class="nav-link" href="#energyplus-input-structure"><span class="header-section-number">13.3</span> EnergyPlus input structure</a></li>
<li><a class="nav-link" href="#class-vs-object"><span class="header-section-number">13.4</span> Class vs Object</a></li>
<li>
<a class="nav-link" href="#model-query"><span class="header-section-number">13.5</span> Model Query</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#idf-class-methods"><span class="header-section-number">13.5.1</span> Idf class methods</a></li>
<li><a class="nav-link" href="#operator"><span class="header-section-number">13.5.2</span> $ operator</a></li>
</ul>
</li>
<li><a class="nav-link" href="#object-interdependencies"><span class="header-section-number">13.6</span> Object interdependencies</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Building Energy Simulation</strong>" was written by Adrian Chong. It was last built on 2021-08-21.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
